exports.id = "main";
exports.modules = {

/***/ "./src/competence-goal/competence-goal.module.ts":
/*!*******************************************************!*\
  !*** ./src/competence-goal/competence-goal.module.ts ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst common_1 = __webpack_require__(/*! @nestjs/common */ \"@nestjs/common\");\r\nconst competence_goal_model_1 = __webpack_require__(/*! ./models/competence-goal.model */ \"./src/competence-goal/models/competence-goal.model.ts\");\r\nconst competence_goal_service_1 = __webpack_require__(/*! ./services/competence-goal.service */ \"./src/competence-goal/services/competence-goal.service.ts\");\r\nconst competence_goal_resolver_1 = __webpack_require__(/*! ./competence-goal.resolver */ \"./src/competence-goal/competence-goal.resolver.ts\");\r\nconst nestjs_typegoose_1 = __webpack_require__(/*! nestjs-typegoose */ \"nestjs-typegoose\");\r\nlet CompetenceGoalModule = class CompetenceGoalModule {\r\n};\r\nCompetenceGoalModule = __decorate([\r\n    common_1.Module({\r\n        imports: [nestjs_typegoose_1.TypegooseModule.forFeature(competence_goal_model_1.CompetenceGoal)],\r\n        providers: [competence_goal_service_1.CompetenceGoalService, competence_goal_resolver_1.CompetenceGoalResolvers]\r\n    })\r\n], CompetenceGoalModule);\r\nexports.CompetenceGoalModule = CompetenceGoalModule;\r\n\n\n//# sourceURL=webpack:///./src/competence-goal/competence-goal.module.ts?");

/***/ }),

/***/ "./src/competence-goal/competence-goal.resolver.ts":
/*!*********************************************************!*\
  !*** ./src/competence-goal/competence-goal.resolver.ts ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst graphql_1 = __webpack_require__(/*! @nestjs/graphql */ \"@nestjs/graphql\");\r\nconst graphql_schema_1 = __webpack_require__(/*! ../common/graphql.schema */ \"./src/common/graphql.schema.ts\");\r\nconst competence_goal_service_1 = __webpack_require__(/*! ./services/competence-goal.service */ \"./src/competence-goal/services/competence-goal.service.ts\");\r\nconst competence_goal_input_1 = __webpack_require__(/*! ./DTO/competence-goal-input */ \"./src/competence-goal/DTO/competence-goal-input.ts\");\r\nlet CompetenceGoalResolvers = class CompetenceGoalResolvers {\r\n    constructor(competenceGoalService) {\r\n        this.competenceGoalService = competenceGoalService;\r\n    }\r\n    competenceGoals(status, competence) {\r\n        if (status === graphql_schema_1.GoalStatus.ACTIVE) {\r\n            return this.competenceGoalService.findActive(competence);\r\n        }\r\n        else\r\n            return null;\r\n    }\r\n    createCompGoal(args) {\r\n        return this.competenceGoalService.create(args);\r\n    }\r\n};\r\n__decorate([\r\n    graphql_1.Query(),\r\n    __param(0, graphql_1.Args(\"status\")), __param(1, graphql_1.Args(\"competence\")),\r\n    __metadata(\"design:type\", Function),\r\n    __metadata(\"design:paramtypes\", [String, String]),\r\n    __metadata(\"design:returntype\", Object)\r\n], CompetenceGoalResolvers.prototype, \"competenceGoals\", null);\r\n__decorate([\r\n    graphql_1.Mutation(),\r\n    __param(0, graphql_1.Args('competenceGoalInput')),\r\n    __metadata(\"design:type\", Function),\r\n    __metadata(\"design:paramtypes\", [competence_goal_input_1.CreateCompetenceGoalInput]),\r\n    __metadata(\"design:returntype\", Promise)\r\n], CompetenceGoalResolvers.prototype, \"createCompGoal\", null);\r\nCompetenceGoalResolvers = __decorate([\r\n    graphql_1.Resolver('CompetenceGoal'),\r\n    __metadata(\"design:paramtypes\", [competence_goal_service_1.CompetenceGoalService])\r\n], CompetenceGoalResolvers);\r\nexports.CompetenceGoalResolvers = CompetenceGoalResolvers;\r\n\n\n//# sourceURL=webpack:///./src/competence-goal/competence-goal.resolver.ts?");

/***/ }),

/***/ "./src/competence-goal/models/competence-goal.model.ts":
/*!*************************************************************!*\
  !*** ./src/competence-goal/models/competence-goal.model.ts ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst graphql_schema_1 = __webpack_require__(/*! ../../common/graphql.schema */ \"./src/common/graphql.schema.ts\");\r\nconst typegoose_1 = __webpack_require__(/*! typegoose */ \"typegoose\");\r\nconst date_fns_1 = __webpack_require__(/*! date-fns */ \"date-fns\");\r\nclass GoalDayPerf {\r\n}\r\nexports.GoalDayPerf = GoalDayPerf;\r\nclass GoalPef {\r\n}\r\n__decorate([\r\n    typegoose_1.prop(),\r\n    __metadata(\"design:type\", Date)\r\n], GoalPef.prototype, \"startActive\", void 0);\r\n__decorate([\r\n    typegoose_1.prop({ default: 0 }),\r\n    __metadata(\"design:type\", Number)\r\n], GoalPef.prototype, \"overallPerf\", void 0);\r\n__decorate([\r\n    typegoose_1.prop(),\r\n    __metadata(\"design:type\", Number)\r\n], GoalPef.prototype, \"goalEffectivenes\", void 0);\r\nexports.GoalPef = GoalPef;\r\nclass ActiveGoalPerf extends GoalPef {\r\n    dayCount(day) {\r\n        return date_fns_1.differenceInCalendarDays(new Date(day), this.startActive) + 2;\r\n    }\r\n    weekCount(day) {\r\n        return Math.ceil(this.dayCount(day) / 7);\r\n    }\r\n}\r\n__decorate([\r\n    typegoose_1.prop(),\r\n    __metadata(\"design:type\", GoalDayPerf)\r\n], ActiveGoalPerf.prototype, \"goalDayPerf\", void 0);\r\n__decorate([\r\n    typegoose_1.instanceMethod,\r\n    __metadata(\"design:type\", Function),\r\n    __metadata(\"design:paramtypes\", [Object]),\r\n    __metadata(\"design:returntype\", void 0)\r\n], ActiveGoalPerf.prototype, \"weekCount\", null);\r\nexports.ActiveGoalPerf = ActiveGoalPerf;\r\nclass GoalPerfHistory extends GoalPef {\r\n}\r\n__decorate([\r\n    typegoose_1.prop(),\r\n    __metadata(\"design:type\", Date)\r\n], GoalPerfHistory.prototype, \"endActive\", void 0);\r\nexports.GoalPerfHistory = GoalPerfHistory;\r\nclass CompetenceGoal extends typegoose_1.Typegoose {\r\n    static findActive(competence) {\r\n        return this.find()\r\n            .or([{ competence: competence }, { status: graphql_schema_1.GoalStatus.ACTIVE }])\r\n            .select('name competence status target startActive goalMonthPerf')\r\n            .exec();\r\n    }\r\n    saveActive(startActive) {\r\n        this.status = graphql_schema_1.GoalStatus.ACTIVE;\r\n        this.startActive = date_fns_1.startOfDay(new Date());\r\n        this.goalMonthPerf.push(new GoalMonthPerf(startActive));\r\n        this._whenToAddMonth = date_fns_1.addMonths(date_fns_1.startOfMonth(startActive), 1);\r\n        return this.save();\r\n    }\r\n}\r\n__decorate([\r\n    typegoose_1.prop(),\r\n    __metadata(\"design:type\", String)\r\n], CompetenceGoal.prototype, \"name\", void 0);\r\n__decorate([\r\n    typegoose_1.prop(),\r\n    __metadata(\"design:type\", String)\r\n], CompetenceGoal.prototype, \"competence\", void 0);\r\n__decorate([\r\n    typegoose_1.prop(),\r\n    __metadata(\"design:type\", Number)\r\n], CompetenceGoal.prototype, \"target\", void 0);\r\n__decorate([\r\n    typegoose_1.prop(),\r\n    __metadata(\"design:type\", String)\r\n], CompetenceGoal.prototype, \"status\", void 0);\r\n__decorate([\r\n    typegoose_1.prop(),\r\n    __metadata(\"design:type\", Date)\r\n], CompetenceGoal.prototype, \"_whenToAddMonth\", void 0);\r\n__decorate([\r\n    typegoose_1.arrayProp({ items: ActiveGoalPerf }),\r\n    __metadata(\"design:type\", ActiveGoalPerf)\r\n], CompetenceGoal.prototype, \"performance\", void 0);\r\n__decorate([\r\n    typegoose_1.arrayProp({ items: GoalPef }),\r\n    __metadata(\"design:type\", Array)\r\n], CompetenceGoal.prototype, \"perfHistory\", void 0);\r\n__decorate([\r\n    typegoose_1.instanceMethod,\r\n    __metadata(\"design:type\", Function),\r\n    __metadata(\"design:paramtypes\", [Date]),\r\n    __metadata(\"design:returntype\", void 0)\r\n], CompetenceGoal.prototype, \"saveActive\", null);\r\n__decorate([\r\n    typegoose_1.staticMethod,\r\n    __metadata(\"design:type\", Function),\r\n    __metadata(\"design:paramtypes\", [String]),\r\n    __metadata(\"design:returntype\", void 0)\r\n], CompetenceGoal, \"findActive\", null);\r\nexports.CompetenceGoal = CompetenceGoal;\r\n\n\n//# sourceURL=webpack:///./src/competence-goal/models/competence-goal.model.ts?");

/***/ }),

/***/ "./src/competence-goal/services/competence-goal.service.ts":
/*!*****************************************************************!*\
  !*** ./src/competence-goal/services/competence-goal.service.ts ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst common_1 = __webpack_require__(/*! @nestjs/common */ \"@nestjs/common\");\r\nconst competence_goal_model_1 = __webpack_require__(/*! ../models/competence-goal.model */ \"./src/competence-goal/models/competence-goal.model.ts\");\r\nconst nestjs_typegoose_1 = __webpack_require__(/*! nestjs-typegoose */ \"nestjs-typegoose\");\r\nconst date_fns_1 = __webpack_require__(/*! date-fns */ \"date-fns\");\r\nlet CompetenceGoalService = class CompetenceGoalService {\r\n    constructor(compGoalModel) {\r\n        this.compGoalModel = compGoalModel;\r\n    }\r\n    findActive(competence) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const compGoals = yield this.compGoalModel.findActive(competence);\r\n            return compGoals;\r\n        });\r\n    }\r\n    create(newGoal) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const createdCompGoal = new this.compGoalModel(newGoal);\r\n            return yield createdCompGoal.saveActive(date_fns_1.startOfToday());\r\n        });\r\n    }\r\n};\r\nCompetenceGoalService = __decorate([\r\n    common_1.Injectable(),\r\n    __param(0, nestjs_typegoose_1.InjectModel(competence_goal_model_1.CompetenceGoal)),\r\n    __metadata(\"design:paramtypes\", [Object])\r\n], CompetenceGoalService);\r\nexports.CompetenceGoalService = CompetenceGoalService;\r\n\n\n//# sourceURL=webpack:///./src/competence-goal/services/competence-goal.service.ts?");

/***/ })

};